## 01. í”„ë¡œì íŠ¸ ì„¤ëª…
- Spring + Elasticsearchì˜ Full Text Index(ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤)ë¥¼ ì ìš©í•œ ê°œì¸ í”„ë¡œì íŠ¸
- [Nori](https://esbook.kimjmin.net/06-text-analysis/6.7-stemming/6.7.2-nori) ë¶„ì„ê¸°ë¥¼ ì ìš©í•œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ê²€ìƒ‰ ì„±ëŠ¥ ë¹„êµ
- 10,000ê°œì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ìœ„í•œ csv, ES bulk query, H2 bulk query í™œìš©

## 02. ê¸°ëŠ¥
- Nori ë¶„ì„ê¸°ê°€ ì ìš©ëœ ì¸ë±ìŠ¤ì— ë‹¤íë¨¼íŠ¸ ì¶”ê°€ 
- Nori tokenizerë¡œ ë¶„ë¦¬ëœ termì„ í†µí•œ ë‹¤íë¨¼íŠ¸ ê²€ìƒ‰
- H2, ESì— 10,000 ê±´ ë°ì´í„° ì‚½ì… ì„±ëŠ¥ ë¹„êµ 
- H2, ESì— 10,000 ê±´ ë°ì´í„° ê²€ìƒ‰ ì„±ëŠ¥ ë¹„êµ

## 03. ì‚¬ìš© ê¸°ìˆ 
- `Spring Boot 3.1.11`, `Spring Data JPA`, `Spring Data Elasticsearch`
- `Elasticsearch 8.7.1`, `kibana 8.7.1`, `Analysis-Nori`
- `Docker`, `Docker Compose`
- `H2`

## 04. ê´€ë ¨ í¬ìŠ¤íŒ…
- [Elasticsearch í•™ìŠµ](https://lsh2613.tistory.com/265)
- [H2, ESì— ëŒ€í•œ ì‚½ì…/ê²€ìƒ‰ ì„±ëŠ¥ ë¹„êµ](https://lsh2613.tistory.com/266#6.%20Elasticsearch%EC%9D%98%20%EC%A0%84%EB%AC%B8%20%EA%B2%80%EC%83%89%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20vs%20H2%EC%9D%98%20LIKE%20%25%20%EC%84%B1%EB%8A%A5%20%EB%B9%84%EA%B5%90-1)

## 05. ì‹œì‘í•˜ê¸°
**1. í”„ë¡œì íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°**
``` bash
git clone https://github.com/lsh2613/Elasticsearch.git <ì›í•˜ëŠ” ê²½ë¡œ>
cd <ì›í•˜ëŠ” ê²½ë¡œ>
```

**2. docker-compose ì‹¤í–‰**<br>
``` bash
docker-compose up --build -d
```

**3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**<br>
``` bash
./gradlew bootRun
```

**3. ë‹¤íë¨¼íŠ¸ ì¶”ê°€**
``` bash
curl -X POST http://localhost:8080/post-documents \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ í…ŒìŠ¤íŠ¸",
    "content": "nori ë¶„ì„ê¸°ë¥¼ í™œìš©í•œ í•œê¸€ í˜•íƒœì†Œ ë¶„ì„ í…ŒìŠ¤íŠ¸"
}'
```

**4. ë‹¤íë¨¼íŠ¸ ê²€ìƒ‰**
```
curl -G "http://localhost:8080/post-documents" \
     --data-urlencode "keyword=í•œê¸€"
```    

## 06. ì„±ëŠ¥ ë¹„êµ

### PerformanceTest.ë²Œí¬_ì‚½ì…_ì„±ëŠ¥_í…ŒìŠ¤íŠ¸()
> 10,000ê±´ì˜ ë°ì´í„°ë¥¼ ì‚½ì…í•˜ëŠ”ë° ê±¸ë¦° ì‹œê°„
> 
> <img src="https://github.com/user-attachments/assets/6dcd5eef-645c-4303-b4c7-0933346fd56b" width="450" />
> 
> | í•­ëª©     | ns          | ms        | s          | ì„±ëŠ¥ ì°¨ì´                |
> |----------|-------------|------------|-------------|---------------------------|
> | H2 ì‚½ì…  | 74,866,834  | 74.87 ms   | 0.07487 s   | ê¸°ì¤€                      |
> | ES ì‚½ì…  | 641,827,792 | 641.83 ms  | 0.64183 s   | ğŸ”½ ì•½ **8.57ë°° ë” ëŠë¦¼**  |
>
> â®• ESëŠ” ì—­ì¸ë±ì‹±ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— H2ì— ë¹„í•´ ì‚½ì… ì†ë„ê°€ ë§ì´ ëŠë¦¬ë‹¤.

---

### PerformanceTest.ê²€ìƒ‰_ì„±ëŠ¥_í…ŒìŠ¤íŠ¸()
> 10,000ê±´ì˜ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ê±¸ë¦° ì‹œê°„
> 
> <img src="https://github.com/user-attachments/assets/46d6a143-0ccc-459d-aac7-a673dd278edf" width="500" />
>
> | í•­ëª©     | ns          | ms        | s          | ì„±ëŠ¥ ì°¨ì´               |
> |----------|-------------|------------|-------------|--------------------------|
> | H2 ê²€ìƒ‰  | 123,008,167 | 123.01 ms  | 0.12301 s   | ê¸°ì¤€                     |
> | ES ê²€ìƒ‰  | 80,488,542  | 80.49 ms   | 0.08049 s   | ğŸ”¼ ì•½ **1.53ë°° ë” ë¹ ë¦„**  |
>
> â®• ESê°€ ì—­ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ê²€ìƒ‰í•˜ê¸° ë•Œë¬¸ì— H2ì— ë¹„í•´ **ë¹ ë¥¸ ê²€ìƒ‰ ì„±ëŠ¥**ì„ ë³´ì¸ë‹¤.

---

### ê²°ë¡ 
- ê²€ìƒ‰ì´ ì¦ê³  ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš°, **Elasticsearchë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ êµ¬ì¡°**ê°€ íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŒ